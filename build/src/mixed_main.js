"use strict";
/**
 * @author Maxence Leguede
 * @version 1.1.0
 * @since 0.1.0
 * @since 2021
 */
var TCS;
var onTcsLoadedFunctions = [];
var loadTcsModuleInfosFunction = [];
on('onResourceStart', (resourceName) => {
    if (GetCurrentResourceName() !== 'tcs') {
        console.log(`${ConsoleColors.RED}TCS ERROR : Please do NOT rename tcs resource, it may breaks the different TCS modules.`);
        console.log(`${ConsoleColors.RED}TCS stopped loading. Rename the resource back to ${ConsoleColors.YELLOW}'tcs'${ConsoleColors.RED}, current name : '${GetCurrentResourceName()}'${ConsoleColors.RESET}`);
        return;
    }
    if (resourceName === GetCurrentResourceName()) {
        TCS = new TcsCore();
        loadTcsModuleInfosFunction.forEach((fnc) => fnc());
        setTimeout(() => onTcsLoadedFunctions.forEach((fnc) => fnc()), 1000);
    }
});
var onTcsLoaded = (fnc) => {
    if (TCS != null) {
        fnc();
        return;
    }
    onTcsLoadedFunctions.push(fnc);
};
exports('onTcsLoaded', onTcsLoaded);
var loadTcsModuleInfos = (fnc) => {
    if (TCS != null) {
        fnc();
        return;
    }
    loadTcsModuleInfosFunction.push(fnc);
};
exports('loadTcsModuleInfos', loadTcsModuleInfos);
exports('getCore', () => {
    return TCS;
});
exports('addExternalModuleToGame', (moduleInfos, onInit) => {
    TCS.modules.addModuleToGame(new TcsModule(moduleInfos, onInit));
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWl4ZWRfbWFpbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9taXhlZF9tYWluLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQTs7Ozs7R0FLRztBQUVILElBQUksR0FBWSxDQUFDO0FBQ2pCLElBQUksb0JBQW9CLEdBQWUsRUFBRSxDQUFDO0FBQzFDLElBQUksMEJBQTBCLEdBQWUsRUFBRSxDQUFDO0FBRWhELEVBQUUsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLFlBQW9CLEVBQUUsRUFBRTtJQUM5QyxJQUFJLHNCQUFzQixFQUFFLEtBQUssS0FBSyxFQUFFO1FBQ3ZDLE9BQU8sQ0FBQyxHQUFHLENBQ1YsR0FBRyxhQUFhLENBQUMsR0FBRyx5RkFBeUYsQ0FDN0csQ0FBQztRQUNGLE9BQU8sQ0FBQyxHQUFHLENBQ1YsR0FBRyxhQUFhLENBQUMsR0FBRyxvREFDbkIsYUFBYSxDQUFDLE1BQ2YsUUFBUSxhQUFhLENBQUMsR0FBRyxxQkFBcUIsc0JBQXNCLEVBQUUsSUFDckUsYUFBYSxDQUFDLEtBQ2YsRUFBRSxDQUNGLENBQUM7UUFDRixPQUFPO0tBQ1A7SUFDRCxJQUFJLFlBQVksS0FBSyxzQkFBc0IsRUFBRSxFQUFFO1FBQzlDLEdBQUcsR0FBRyxJQUFJLE9BQU8sRUFBRSxDQUFDO1FBQ3BCLDBCQUEwQixDQUFDLE9BQU8sQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUMsQ0FBQztRQUVuRCxVQUFVLENBQUMsR0FBRyxFQUFFLENBQUMsb0JBQW9CLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUUsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQ3JFO0FBQ0YsQ0FBQyxDQUFDLENBQUM7QUFFSCxJQUFJLFdBQVcsR0FBRyxDQUFDLEdBQWEsRUFBRSxFQUFFO0lBQ25DLElBQUksR0FBRyxJQUFJLElBQUksRUFBRTtRQUNoQixHQUFHLEVBQUUsQ0FBQztRQUNOLE9BQU87S0FDUDtJQUNELG9CQUFvQixDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUNoQyxDQUFDLENBQUM7QUFDRixPQUFPLENBQUMsYUFBYSxFQUFFLFdBQVcsQ0FBQyxDQUFDO0FBRXBDLElBQUksa0JBQWtCLEdBQUcsQ0FBQyxHQUFhLEVBQUUsRUFBRTtJQUMxQyxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUU7UUFDaEIsR0FBRyxFQUFFLENBQUM7UUFDTixPQUFPO0tBQ1A7SUFDRCwwQkFBMEIsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDdEMsQ0FBQyxDQUFDO0FBQ0YsT0FBTyxDQUFDLG9CQUFvQixFQUFFLGtCQUFrQixDQUFDLENBQUM7QUFFbEQsT0FBTyxDQUFDLFNBQVMsRUFBRSxHQUFHLEVBQUU7SUFDdkIsT0FBTyxHQUFHLENBQUM7QUFDWixDQUFDLENBQUMsQ0FBQztBQUVILE9BQU8sQ0FDTix5QkFBeUIsRUFDekIsQ0FBQyxXQUFrQyxFQUFFLE1BQWdCLEVBQUUsRUFBRTtJQUN4RCxHQUFHLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxJQUFJLFNBQVMsQ0FBQyxXQUFXLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQztBQUNqRSxDQUFDLENBQ0QsQ0FBQyJ9